<div class="main-content">
  <div class="admin-dashboard">
    <!-- Header -->
    <div class="dashboard-header">
      <div class="header-content">
        <div class="header-title">
          <div class="title-icon">üì¶</div>
          <div>
            <h1>QU·∫¢N L√ù M·∫∂T H√ÄNG</h1>
            <p>Theo d√µi v√† qu·∫£n l√Ω kho h√†ng karaoke</p>
          </div>
        </div>
        <div class="header-actions">
          <button class="btn-primary" id="addProductBtn">
            <i class="fas fa-plus"></i>
            <span>Th√™m m·∫∑t h√†ng</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Search and Filter -->
    <div class="search-filter-bar">
      <div class="search-box">
        <i class="fas fa-search"></i>
        <input type="text" id="searchProductInput" placeholder="T√¨m ki·∫øm m·∫∑t h√†ng...">
        <button class="search-btn" id="searchBtn">T√¨m ki·∫øm</button>
      </div>
      <div class="filter-controls">
        <select class="filter-select" id="categoryFilter">
          <option value="">T·∫•t c·∫£ lo·∫°i h√†ng</option>
          {{#each uniqueCategories}}
          <option value="{{this}}">{{this}}</option>
          {{/each}}
        </select>
        <select class="filter-select" id="stockFilter">
          <option value="">T·∫•t c·∫£ tr·∫°ng th√°i</option>
          <option value="inStock">üü¢ C√≤n h√†ng</option>
          <option value="lowStock">üü° S·∫Øp h·∫øt</option>
          <option value="outOfStock">üî¥ H·∫øt h√†ng</option>
        </select>
        <button class="clear-filters" id="clearFiltersBtn">
          <i class="fas fa-times"></i>
          X√≥a l·ªçc
        </button>
      </div>
    </div>

    <!-- Stats -->
    <div class="stats-overview">
      <div class="stat-card">
        <div class="stat-icon total">
          <i class="fas fa-boxes"></i>
        </div>
        <div class="stat-info">
          <h3 id="totalProductsCount">{{mathangs.length}}</h3>
          <p>T·ªïng m·∫∑t h√†ng</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon available">
          <i class="fas fa-check-circle"></i>
        </div>
        <div class="stat-info">
          <h3 id="inStockCount">0</h3>
          <p>ƒêang c√≥ h√†ng</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon busy">
          <i class="fas fa-exclamation-triangle"></i>
        </div>
        <div class="stat-info">
          <h3 id="lowStockCount">0</h3>
          <p>S·∫Øp h·∫øt h√†ng</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon reserved">
          <i class="fas fa-times-circle"></i>
        </div>
        <div class="stat-info">
          <h3 id="outOfStockCount">0</h3>
          <p>H·∫øt h√†ng</p>
        </div>
      </div>
    </div>

    <!-- Products Grid -->
    <div class="rooms-grid" id="productsGrid">
      {{#each mathangs}}
      <div class="room-card" data-id="{{this._id}}" data-name="{{this.TenHang}}" data-category="{{this.LoaiHang}}"
           data-stock="{{this.SoLuongTon}}" data-price="{{this.DonGia}}">
        <div class="room-image">
          <img src="{{this.LinkAnh}}" alt="{{this.TenHang}}">
          <div class="room-overlay">
            <div class="room-actions">
              <button class="btn-edit" data-product='{{{json this}}}'>
                <i class="fas fa-edit"></i>
              </button>
              <button class="btn-delete" data-id="{{this._id}}" data-name="{{this.TenHang}}">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </div>
          <div class="room-badge {{#if (gt this.SoLuongTon 10)}}inStock{{else if (and (lte this.SoLuongTon 10) (gt this.SoLuongTon 0))}}lowStock{{else}}outOfStock{{/if}}">
            {{#if (gt this.SoLuongTon 10)}}üü¢ C√≤n h√†ng{{/if}}
            {{#if (and (lte this.SoLuongTon 10) (gt this.SoLuongTon 0))}}üü° S·∫Øp h·∫øt{{/if}}
            {{#if (eq this.SoLuongTon 0)}}üî¥ H·∫øt h√†ng{{/if}}
          </div>
          <div class="room-type">{{this.LoaiHang}}</div>
        </div>

        <div class="room-content">
          <h3 class="room-title">{{this.TenHang}}</h3>
          <p class="room-description">M√£ h√†ng: {{this.MaHang}}</p>

          <div class="room-details">
            <div class="detail-item">
              <i class="fas fa-money-bill-wave"></i>
              <span>{{formatNumber this.DonGia}} VNƒê / {{this.DonViTinh}}</span>
            </div>
            <div class="detail-item">
              <i class="fas fa-box"></i>
              <span>T·ªìn kho: {{this.SoLuongTon}} {{this.DonViTinh}}</span>
            </div>
          </div>

          <div class="product-footer">
            <div class="price-tag">
              <strong>{{formatNumber this.DonGia}} VNƒê</strong>
            </div>
            <div class="stock-actions">
              <button class="btn-stock-in" data-id="{{this._id}}" data-action="in" title="Nh·∫≠p h√†ng">
                <i class="fas fa-arrow-down"></i>
              </button>
              <button class="btn-stock-out" data-id="{{this._id}}" data-action="out" title="Xu·∫•t h√†ng">
                <i class="fas fa-arrow-up"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
      {{/each}}
    </div>

    <!-- Empty State -->
    <div class="empty-state" id="emptyState" style="{{#if mathangs.length}}display: none;{{else}}display: flex;{{/if}}">
      <div class="empty-icon">üì¶</div>
      <h3>Kh√¥ng t√¨m th·∫•y m·∫∑t h√†ng</h3>
      <p>Th·ª≠ thay ƒë·ªïi b·ªô l·ªçc ho·∫∑c th√™m m·∫∑t h√†ng m·ªõi</p>
      <button class="btn-primary" id="addFirstProductBtn">
        <i class="fas fa-plus"></i>
        Th√™m m·∫∑t h√†ng ƒë·∫ßu ti√™n
      </button>
    </div>
  </div>

  <!-- Product Modal -->
  <div class="modal-overlay" id="productModal">
    <div class="modal-container">
      <div class="modal-header">
        <h2 id="productModalTitle">Th√™m m·∫∑t h√†ng m·ªõi</h2>
        <button class="modal-close" id="closeProductModalBtn">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <div class="modal-body">
        <form id="productForm">
          <input type="hidden" id="productId">
          <input type="hidden" id="productCode">

          <div class="form-grid">
            <div class="form-group">
              <label for="productName">T√™n h√†ng *</label>
              <input type="text" id="productName" required placeholder="Nh·∫≠p t√™n h√†ng">
            </div>

            <div class="form-group">
              <label for="productCategory">Lo·∫°i h√†ng *</label>
              <div class="select-with-btn-container">
                <select id="productCategory" required>
                  <option value="">Ch·ªçn lo·∫°i h√†ng</option>
                  {{#each uniqueCategories}}
                  <option value="{{this}}">{{this}}</option>
                  {{/each}}
                </select>
                <button type="button" class="btn-add-room-type" id="addCategoryBtn" title="Th√™m lo·∫°i h√†ng m·ªõi">
                  <i class="fas fa-plus"></i>
                </button>
              </div>
            </div>

            <div class="form-group">
              <label for="productPrice">ƒê∆°n gi√° *</label>
              <div class="price-input-wrapper">
                <input type="number" id="productPrice" required placeholder="0" min="0">
                <span class="currency-symbol">VNƒê</span>
              </div>
            </div>

            <div class="form-group">
              <label for="productUnit">ƒê∆°n v·ªã t√≠nh *</label>
              <input type="text" id="productUnit" required placeholder="C√°i, chai, lon..." maxlength="20">
            </div>

            <div class="form-group">
              <label for="productStock">S·ªë l∆∞·ª£ng t·ªìn</label>
              <input type="number" id="productStock" placeholder="0" min="0" value="0">
            </div>

            <div class="form-group full-width">
              <label for="productImage">Link ·∫£nh</label>
              <input type="text" id="productImage" placeholder="URL h√¨nh ·∫£nh">
            </div>
          </div>

          <div class="form-group full-width">
            <label>Preview ·∫£nh</label>
            <div class="image-preview" id="productImagePreview">
              <i class="fas fa-image"></i>
              <p>Preview s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y</p>
            </div>
          </div>
        </form>
      </div>

      <div class="modal-footer">
        <button class="btn-secondary" type="button" id="cancelProductBtn">H·ªßy</button>
        <button class="btn-primary" type="button" id="saveProductBtn">L∆∞u th√¥ng tin</button>
      </div>
    </div>
  </div>

  <!-- Stock Update Modal -->
  <div class="modal-overlay" id="stockModal">
    <div class="modal-container">
      <div class="modal-header">
        <h2 id="stockModalTitle">C·∫≠p nh·∫≠t t·ªìn kho</h2>
        <button class="modal-close" id="closeStockModalBtn">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <div class="modal-body">
        <form id="stockForm">
          <input type="hidden" id="stockProductId">
          <input type="hidden" id="stockAction">
          
          <div class="form-group">
            <label id="stockActionLabel">S·ªë l∆∞·ª£ng</label>
            <input type="number" id="stockQuantity" required min="1" placeholder="Nh·∫≠p s·ªë l∆∞·ª£ng">
          </div>
          
          <div class="form-group">
            <label>Ghi ch√∫ (t√πy ch·ªçn)</label>
            <textarea id="stockNote" rows="3" placeholder="L√Ω do nh·∫≠p/xu·∫•t h√†ng..."></textarea>
          </div>
        </form>
      </div>

      <div class="modal-footer">
        <button class="btn-secondary" type="button" id="cancelStockBtn">H·ªßy</button>
        <button class="btn-primary" type="button" id="saveStockBtn">C·∫≠p nh·∫≠t</button>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
  // Utility Functions
  function formatNumber(price) {
    if (!price && price !== 0) return '0';
    return new Intl.NumberFormat('vi-VN').format(price);
  }

  function getStockStatus(quantity) {
    if (quantity === 0) return 'outOfStock';
    if (quantity <= 10) return 'lowStock';
    return 'inStock';
  }

  function showError(message) {
    Swal.fire({
      icon: 'warning',
      title: 'Thi·∫øu th√¥ng tin',
      text: message,
      confirmButtonColor: '#667eea'
    });
  }

  function showSuccess(message) {
    Swal.fire({
      icon: 'success',
      title: 'Th√†nh c√¥ng!',
      text: message,
      timer: 1500,
      showConfirmButton: false
    });
  }

  // Modal Management
  function openProductModal(productData) {
    console.log(productData);
    document.getElementById('productModalTitle').textContent = productData ? 'Ch·ªânh s·ª≠a m·∫∑t h√†ng' : 'Th√™m m·∫∑t h√†ng m·ªõi';
    document.getElementById('productModal').style.display = 'flex';
    document.body.style.overflow = 'hidden';

    if (productData) {
      document.getElementById('productId').value = productData._id || '';
      document.getElementById('productCode').value = productData.MaHang || '';
      document.getElementById('productName').value = productData.TenHang || '';
      document.getElementById('productCategory').value = productData.LoaiHang || '';
      document.getElementById('productPrice').value = productData.DonGia || '';
      document.getElementById('productUnit').value = productData.DonViTinh || '';
      document.getElementById('productStock').value = productData.SoLuongTon || 0;
      document.getElementById('productImage').value = productData.LinkAnh || '';
      updateProductImagePreview(productData.LinkAnh || '');
    } else {
      resetProductForm();
    }
  }

  function closeProductModal() {
    document.getElementById('productModal').style.display = 'none';
    document.body.style.overflow = 'auto';
  }

  function resetProductForm() {
    document.getElementById('productForm').reset();
    document.getElementById('productId').value = '';
    document.getElementById('productStock').value = '0';
    updateProductImagePreview('');
  }

  function updateProductImagePreview(imageUrl) {
    const preview = document.getElementById('productImagePreview');
    if (imageUrl && imageUrl.trim() !== '') {
      preview.innerHTML = `<img src="${imageUrl}" alt="Preview">`;
    } else {
      preview.innerHTML = '<i class="fas fa-image"></i><p>Preview s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y</p>';
    }
  }

  function updateStock(productId, action) {
    document.getElementById('stockProductId').value = productId;
    document.getElementById('stockAction').value = action;
    
    const title = action === 'in' ? 'Nh·∫≠p h√†ng' : 'Xu·∫•t h√†ng';
    const label = action === 'in' ? 'S·ªë l∆∞·ª£ng nh·∫≠p' : 'S·ªë l∆∞·ª£ng xu·∫•t';
    
    document.getElementById('stockModalTitle').textContent = title;
    document.getElementById('stockActionLabel').textContent = label;
    document.getElementById('stockQuantity').value = '';
    document.getElementById('stockNote').value = '';
    
    document.getElementById('stockModal').style.display = 'flex';
    document.body.style.overflow = 'hidden';
  }

  function closeStockModal() {
    document.getElementById('stockModal').style.display = 'none';
    document.body.style.overflow = 'auto';
  }

  // Category Management
  async function addNewCategory() {
    const { value: category } = await Swal.fire({
      title: 'Th√™m lo·∫°i h√†ng m·ªõi',
      input: 'text',
      inputLabel: 'T√™n lo·∫°i h√†ng',
      inputPlaceholder: 'Nh·∫≠p t√™n lo·∫°i h√†ng m·ªõi...',
      showCancelButton: true,
      confirmButtonText: 'Th√™m m·ªõi',
      cancelButtonText: 'H·ªßy',
      inputValidator: (value) => {
        if (!value) return 'Vui l√≤ng nh·∫≠p t√™n lo·∫°i h√†ng!';
        if (value.length < 2) return 'T√™n lo·∫°i h√†ng ph·∫£i c√≥ √≠t nh·∫•t 2 k√Ω t·ª±!';
      }
    });

    if (category) {
      const select = document.getElementById('productCategory');
      const option = document.createElement('option');
      option.value = category;
      option.textContent = category;
      select.appendChild(option);
      select.value = category;
      
      showSuccess(`ƒê√£ th√™m lo·∫°i h√†ng "${category}"`);
    }
  }

  // Product Management
  async function saveProduct() {
    const formData = {
      TenHang: document.getElementById('productName').value.trim(),
      LoaiHang: document.getElementById('productCategory').value,
      DonGia: parseInt(document.getElementById('productPrice').value),
      DonViTinh: document.getElementById('productUnit').value.trim(),
      SoLuongTon: parseInt(document.getElementById('productStock').value) || 0,
      LinkAnh: document.getElementById('productImage').value.trim()
    };

    // Validation
    if (!formData.TenHang) {
      showError('Vui l√≤ng nh·∫≠p t√™n h√†ng');
      return;
    }
    if (!formData.LoaiHang) {
      showError('Vui l√≤ng ch·ªçn lo·∫°i h√†ng');
      return;
    }
    if (!formData.DonGia || formData.DonGia < 0) {
      showError('Vui l√≤ng nh·∫≠p ƒë∆°n gi√° h·ª£p l·ªá');
      return;
    }
    if (!formData.DonViTinh) {
      showError('Vui l√≤ng nh·∫≠p ƒë∆°n v·ªã t√≠nh');
      return;
    }

    const productId = document.getElementById('productCode').value;
    const url = productId ? `/api/mathang/${productId}` : '/api/mathang';
    const method = productId ? 'PUT' : 'POST';

    console.log(url, method, formData);

    try {
      Swal.fire({
        title: 'ƒêang l∆∞u th√¥ng tin...',
        text: 'Vui l√≤ng ch·ªù trong gi√¢y l√°t',
        allowOutsideClick: false,
        didOpen: () => Swal.showLoading()
      });

      const response = await fetch(url, {
        method: method,
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(formData)
      });

      const result = await response.json();
      if (!response.ok) throw new Error(result.error || result.message || 'L·ªói server');

      showSuccess(result.message || `M·∫∑t h√†ng "${formData.TenHang}" ƒë√£ ƒë∆∞·ª£c ${productId ? 'c·∫≠p nh·∫≠t' : 'th√™m'} th√†nh c√¥ng!`);
      setTimeout(() => location.reload(), 150);

    } catch (error) {
      console.error('‚ùå L·ªói khi l∆∞u m·∫∑t h√†ng:', error);
      Swal.fire({
        icon: 'error',
        title: 'L·ªói!',
        text: error.message || 'Kh√¥ng th·ªÉ l∆∞u th√¥ng tin m·∫∑t h√†ng',
        confirmButtonColor: '#667eea'
      });
    }
  }

  async function deleteProduct(productId, productName) {
    const result = await Swal.fire({
      title: 'X√°c nh·∫≠n x√≥a?',
      html: `B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a m·∫∑t h√†ng <strong>${productName}</strong>?`,
      icon: 'warning',
      showCancelButton: true,
      confirmButtonColor: '#e53e3e',
      cancelButtonColor: '#667eea',
      confirmButtonText: 'X√≥a',
      cancelButtonText: 'H·ªßy'
    });

    if (result.isConfirmed) {
      try {
        const response = await fetch(`/api/mathang/${productId}`, { method: 'DELETE' });
        if (!response.ok) throw new Error('L·ªói khi x√≥a m·∫∑t h√†ng');

        showSuccess('M·∫∑t h√†ng ƒë√£ ƒë∆∞·ª£c x√≥a th√†nh c√¥ng');
        setTimeout(() => location.reload(), 1500);
      } catch (error) {
        Swal.fire({
          icon: 'error',
          title: 'L·ªói!',
          text: 'Kh√¥ng th·ªÉ x√≥a m·∫∑t h√†ng'
        });
      }
    }
  }

  async function saveStockUpdate() {
    const productId = document.getElementById('stockProductId').value;
    const action = document.getElementById('stockAction').value;
    const quantity = parseInt(document.getElementById('stockQuantity').value);
    const note = document.getElementById('stockNote').value.trim();

    if (!quantity || quantity <= 0) {
      showError('Vui l√≤ng nh·∫≠p s·ªë l∆∞·ª£ng h·ª£p l·ªá');
      return;
    }

    try {
      Swal.fire({
        title: 'ƒêang c·∫≠p nh·∫≠t...',
        text: 'Vui l√≤ng ch·ªù trong gi√¢y l√°t',
        allowOutsideClick: false,
        didOpen: () => Swal.showLoading()
      });

      const response = await fetch(`/admin/mathang/${productId}/stock`, {
        method: 'PUT',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ action, quantity, note })
      });

      const result = await response.json();
      if (!response.ok) throw new Error(result.error || result.message || 'L·ªói server');

      showSuccess(`ƒê√£ ${action === 'in' ? 'nh·∫≠p' : 'xu·∫•t'} ${quantity} th√†nh c√¥ng!`);
      setTimeout(() => location.reload(), 1500);

    } catch (error) {
      console.error('‚ùå L·ªói khi c·∫≠p nh·∫≠t t·ªìn kho:', error);
      Swal.fire({
        icon: 'error',
        title: 'L·ªói!',
        text: error.message || 'Kh√¥ng th·ªÉ c·∫≠p nh·∫≠t t·ªìn kho',
        confirmButtonColor: '#667eea'
      });
    }
  }

  // Filter & Search
  function filterProducts() {
    const searchTerm = document.getElementById('searchProductInput').value.toLowerCase();
    const categoryFilter = document.getElementById('categoryFilter').value;
    const stockFilter = document.getElementById('stockFilter').value;

    const productCards = document.querySelectorAll('.room-card');
    let visibleCount = 0;
    
    productCards.forEach(card => {
      const name = card.getAttribute('data-name').toLowerCase();
      const code = card.querySelector('.room-description').textContent.toLowerCase();
      const category = card.getAttribute('data-category');
      const stock = parseInt(card.getAttribute('data-stock'));
      const stockStatus = getStockStatus(stock);
      
      const matchesSearch = !searchTerm || name.includes(searchTerm) || code.includes(searchTerm);
      const matchesCategory = !categoryFilter || category === categoryFilter;
      let matchesStock = true;
      
      if (stockFilter === 'inStock') matchesStock = stockStatus === 'inStock';
      else if (stockFilter === 'lowStock') matchesStock = stockStatus === 'lowStock';
      else if (stockFilter === 'outOfStock') matchesStock = stockStatus === 'outOfStock';

      const shouldShow = matchesSearch && matchesCategory && matchesStock;
      card.style.display = shouldShow ? 'block' : 'none';
      if (shouldShow) visibleCount++;
    });

    toggleProductEmptyState(visibleCount === 0);
  }

  function clearProductFilters() {
    document.getElementById('searchProductInput').value = '';
    document.getElementById('categoryFilter').value = '';
    document.getElementById('stockFilter').value = '';
    filterProducts();
  }

  function toggleProductEmptyState(show) {
    const emptyState = document.getElementById('emptyState');
    const productsGrid = document.getElementById('productsGrid');
    
    if (show) {
      productsGrid.style.display = 'none';
      emptyState.style.display = 'flex';
    } else {
      productsGrid.style.display = 'grid';
      emptyState.style.display = 'none';
    }
  }

  function updateStats() {
    const productCards = document.querySelectorAll('.room-card');
    let inStockCount = 0, lowStockCount = 0, outOfStockCount = 0;

    productCards.forEach(card => {
      const stock = parseInt(card.getAttribute('data-stock'));
      const status = getStockStatus(stock);
      
      if (status === 'inStock') inStockCount++;
      else if (status === 'lowStock') lowStockCount++;
      else if (status === 'outOfStock') outOfStockCount++;
    });

    document.getElementById('inStockCount').textContent = inStockCount;
    document.getElementById('lowStockCount').textContent = lowStockCount;
    document.getElementById('outOfStockCount').textContent = outOfStockCount;
  }

  // Event Listeners
  // Trong ph·∫ßn JavaScript, c·∫≠p nh·∫≠t h√†m initializeEventListeners ƒë·ªÉ th√™m auto filter
    function initializeEventListeners() {
  // Product buttons
  document.getElementById('addProductBtn').addEventListener('click', () => openProductModal());
  document.getElementById('addFirstProductBtn').addEventListener('click', () => openProductModal());
  
  // Search and filter - TH√äM AUTO FILTER
  document.getElementById('searchBtn').addEventListener('click', filterProducts);
  document.getElementById('clearFiltersBtn').addEventListener('click', clearProductFilters);
  
  // TH√äM: Auto filter khi thay ƒë·ªïi dropdown
  document.getElementById('categoryFilter').addEventListener('change', filterProducts);
  document.getElementById('stockFilter').addEventListener('change', filterProducts);
  
  // Product modal
  document.getElementById('closeProductModalBtn').addEventListener('click', closeProductModal);
  document.getElementById('cancelProductBtn').addEventListener('click', closeProductModal);
  document.getElementById('saveProductBtn').addEventListener('click', saveProduct);
  document.getElementById('addCategoryBtn').addEventListener('click', addNewCategory);
  
  // Stock modal
  document.getElementById('closeStockModalBtn').addEventListener('click', closeStockModal);
  document.getElementById('cancelStockBtn').addEventListener('click', closeStockModal);
  document.getElementById('saveStockBtn').addEventListener('click', saveStockUpdate);
  
  // Product image preview
  document.getElementById('productImage').addEventListener('input', function() {
    updateProductImagePreview(this.value);
  });
  
  // Modal overlay clicks
  document.getElementById('productModal').addEventListener('click', function(e) {
    if (e.target === this) closeProductModal();
  });
  
  document.getElementById('stockModal').addEventListener('click', function(e) {
    if (e.target === this) closeStockModal();
  });

  // Edit and delete buttons for products
    document.querySelectorAll('.btn-edit[data-product]').forEach(btn => {
    btn.addEventListener('click', function() {
        try {
            const productJson = this.getAttribute('data-product');
            console.log('Raw product data:', productJson); // Debug
            
            const productData = JSON.parse(productJson);
            console.log('Parsed product data:', productData); // Debug
            
            openProductModal(productData);
        } catch (error) {
            console.error('Error parsing product data:', error);
            Swal.fire({
                icon: 'error',
                title: 'L·ªói',
                text: 'Kh√¥ng th·ªÉ ƒë·ªçc d·ªØ li·ªáu m·∫∑t h√†ng'
            });
        }
    });
    });

  document.querySelectorAll('.btn-delete[data-id]').forEach(btn => {
    btn.addEventListener('click', function() {
      const productId = this.getAttribute('data-id');
      const productName = this.getAttribute('data-name');
      deleteProduct(productId, productName);
    });
  });

  // Stock update buttons
  document.querySelectorAll('.btn-stock-in, .btn-stock-out').forEach(btn => {
    btn.addEventListener('click', function() {
      const productId = this.getAttribute('data-id');
      const action = this.getAttribute('data-action');
      updateStock(productId, action);
    });
  });

  // Real-time search - GI·ªÆ NGUY√äN
  let searchTimeout;
  document.getElementById('searchProductInput').addEventListener('input', function() {
    clearTimeout(searchTimeout);
    searchTimeout = setTimeout(filterProducts, 300);
  });
}
  
  
  // Initialize when DOM is loaded
  document.addEventListener('DOMContentLoaded', function() {
    updateStats();
    initializeEventListeners();
    console.log('Product management app initialized');
  });
</script>

<style>

  /* ===== MAIN CONTENT STYLES ===== */
  .main-content {
    margin-left: 280px;
    transition: margin-left 0.3s ease;
    min-height: 100vh;
  }

  .sidebar-collapsed .main-content {
    margin-left: 80px;
  }

  /* ===== DASHBOARD STYLES ===== */
  .admin-dashboard {
    padding: 24px;
    min-height: 100vh;
  }

  .dashboard-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 16px;
    padding: 28px;
    margin-bottom: 28px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    color: white;
    position: relative;
    overflow: hidden;
  }

  .dashboard-header::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 200px;
    height: 200px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    transform: translate(30%, -30%);
  }

  .header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 20px;
    position: relative;
    z-index: 1;
  }

  .header-title {
    display: flex;
    align-items: center;
    gap: 20px;
  }

  .title-icon {
    font-size: 3rem;
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
  }

  .header-title h1 {
    margin: 0;
    font-size: 2rem;
    font-weight: 700;
  }

  .header-title p {
    margin: 8px 0 0 0;
    opacity: 0.9;
    font-size: 1.1rem;
  }

  .header-actions {
    display: flex;
    gap: 16px;
    align-items: center;
  }

  /* ===== BUTTON STYLES ===== */
  .btn-primary {
    background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
    color: white;
    border: none;
    padding: 14px 24px;
    border-radius: 12px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    font-weight: 600;
    font-size: 1rem;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(72, 187, 120, 0.3);
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(72, 187, 120, 0.4);
  }

  .btn-secondary {
    background: #64748b;
    color: white;
    border: none;
    padding: 14px 24px;
    border-radius: 12px;
    cursor: pointer;
    display: flex;
    align-items: center;
    transition: all 0.3s ease;
  }

  .btn-secondary:hover {
    background: #475569;
    transform: translateY(-1px);
  }

  /* ===== SEARCH AND FILTER ===== */
  .search-filter-bar {
    background: white;
    border-radius: 16px;
    padding: 24px;
    margin-bottom: 28px;
    display: flex;
    gap: 24px;
    align-items: center;
    flex-wrap: wrap;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    border: 1px solid rgba(0, 0, 0, 0.05);
  }

  .search-box {
    display: flex;
    align-items: center;
    background: #f8fafc;
    border-radius: 12px;
    padding: 12px 20px;
    flex: 1;
    min-width: 320px;
    border: 2px solid #e2e8f0;
    transition: all 0.3s ease;
  }

  .search-box:focus-within {
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
  }

  .search-box i {
    color: #64748b;
    margin-right: 12px;
    font-size: 1.1rem;
  }

  .search-box input {
    border: none;
    background: none;
    outline: none;
    flex: 1;
    padding: 8px 0;
    font-size: 1rem;
    color: #1e293b;
  }

  .search-box input::placeholder {
    color: #94a3b8;
  }

  .search-btn {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 10px;
    cursor: pointer;
    margin-left: 16px;
    font-weight: 600;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
  }

  .search-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
  }

  .filter-controls {
    display: flex;
    gap: 16px;
    align-items: center;
    flex-wrap: wrap;
  }

  .filter-select {
    padding: 12px 20px;
    border: 2px solid #e2e8f0;
    border-radius: 10px;
    background: white;
    color: #475569;
    min-width: 180px;
    font-size: 1rem;
    transition: all 0.3s ease;
    cursor: pointer;
  }

  .filter-select:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
  }

  .clear-filters {
    background: #f1f5f9;
    border: 2px solid #e2e8f0;
    color: #64748b;
    padding: 12px 20px;
    border-radius: 10px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s ease;
    font-weight: 500;
  }

  .clear-filters:hover {
    background: #e2e8f0;
    color: #475569;
    transform: translateY(-1px);
  }

  /* ===== STATS OVERVIEW ===== */
  .stats-overview {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 24px;
    margin-bottom: 32px;
  }

  .stat-card {
    background: white;
    border-radius: 20px;
    padding: 32px;
    display: flex;
    align-items: center;
    gap: 20px;
    box-shadow: 0 4px 25px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
    border: 1px solid rgba(0, 0, 0, 0.03);
    position: relative;
    overflow: hidden;
  }

  .stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #667eea, #764ba2);
  }

  .stat-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 35px rgba(0, 0, 0, 0.12);
  }

  .stat-icon {
    width: 80px;
    height: 80px;
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  }

  .stat-icon.total {
    background: linear-gradient(135deg, #fed7d7, #feb2b2);
    color: #c53030;
  }

  .stat-icon.available {
    background: linear-gradient(135deg, #c6f6d5, #9ae6b4);
    color: #276749;
  }

  .stat-icon.busy {
    background: linear-gradient(135deg, #fed7d7, #feb2b2);
    color: #c53030;
  }

  .stat-icon.reserved {
    background: linear-gradient(135deg, #fefcbf, #faf089);
    color: #d69e2e;
  }

  .stat-info h3 {
    margin: 0;
    font-size: 2.5rem;
    color: #1e293b;
    font-weight: 700;
  }

  .stat-info p {
    margin: 8px 0 0 0;
    color: #64748b;
    font-size: 1.1rem;
    font-weight: 500;
  }

  /* ===== ROOMS GRID ===== */
  .rooms-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
    gap: 28px;
  }

  .room-card {
    background: white;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 4px 25px rgba(0, 0, 0, 0.08);
    transition: all 0.4s ease;
    border: 1px solid rgba(0, 0, 0, 0.03);
    position: relative;
  }

  .room-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
  }

  .room-image {
    position: relative;
    height: 240px;
    overflow: hidden;
  }

  .room-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.6s ease;
  }

  .room-card:hover .room-image img {
    transform: scale(1.1);
  }

  .room-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.9), rgba(118, 75, 162, 0.9));
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: all 0.4s ease;
  }

  .room-card:hover .room-overlay {
    opacity: 1;
  }

  .room-actions {
    display: flex;
    gap: 16px;
  }

  .btn-edit,
  .btn-delete {
    width: 56px;
    height: 56px;
    border: none;
    border-radius: 14px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  }

  .btn-edit {
    background: linear-gradient(135deg, #48bb78, #38a169);
    color: white;
  }

  .btn-delete {
    background: linear-gradient(135deg, #f56565, #e53e3e);
    color: white;
  }

  .btn-edit:hover,
  .btn-delete:hover {
    transform: scale(1.1) translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
  }

  .room-badge {
    position: absolute;
    top: 16px;
    left: 16px;
    padding: 8px 16px;
    border-radius: 25px;
    font-size: 0.85rem;
    font-weight: 700;
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    z-index: 2;
    color: white;
  }

  .room-badge.outOfStock {
    background: linear-gradient(135deg, rgba(245, 101, 101, 0.95), rgba(229, 62, 62, 0.95));
  }

  .room-badge.lowStock {
    background: linear-gradient(135deg, rgba(237, 137, 54, 0.95), rgba(217, 119, 6, 0.95));
  }

  .room-badge.inStock {
    background: linear-gradient(135deg, rgba(72, 187, 120, 0.95), rgba(56, 161, 105, 0.95));
  }

  .room-type {
    position: absolute;
    top: 16px;
    right: 16px;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.95), rgba(118, 75, 162, 0.95));
    color: white;
    padding: 8px 16px;
    border-radius: 25px;
    font-size: 0.85rem;
    font-weight: 700;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    z-index: 2;
  }

  .room-content {
    padding: 24px;
  }

  .room-title {
    margin: 0 0 12px 0;
    color: #1e293b;
    font-size: 1.4rem;
    font-weight: 700;
  }

  .room-description {
    margin: 0 0 20px 0;
    color: #64748b;
    line-height: 1.6;
    font-size: 1rem;
  }

  .room-details {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 20px;
  }

  .detail-item {
    display: flex;
    align-items: center;
    gap: 12px;
    color: #475569;
    font-size: 1rem;
  }

  .detail-item i {
    color: #667eea;
    width: 20px;
    font-size: 1.1rem;
  }

  /* ===== PRODUCT FOOTER STYLES ===== */
  .product-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 16px;
    border-top: 2px solid #f1f5f9;
    margin-top: 16px;
  }

  .price-tag {
    background: linear-gradient(135deg, #48bb78, #38a169);
    color: white;
    padding: 8px 16px;
    border-radius: 20px;
    font-weight: 700;
    font-size: 1.1rem;
  }

  .stock-actions {
    display: flex;
    gap: 8px;
  }

  .btn-stock-in,
  .btn-stock-out {
    width: 40px;
    height: 40px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.1rem;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    color: white;
  }

  .btn-stock-in {
    background: linear-gradient(135deg, #48bb78, #38a169);
  }

  .btn-stock-out {
    background: linear-gradient(135deg, #ed8936, #dd6b20);
  }

  .btn-stock-in:hover,
  .btn-stock-out:hover {
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  }

  /* ===== EMPTY STATE ===== */
  .empty-state {
    text-align: center;
    padding: 80px 40px;
    background: white;
    border-radius: 24px;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
    border: 2px dashed #e2e8f0;
  }

  .empty-icon {
    font-size: 5rem;
    margin-bottom: 24px;
    opacity: 0.7;
  }

  .empty-state h3 {
    margin: 0 0 12px 0;
    color: #1e293b;
    font-size: 1.8rem;
    font-weight: 700;
  }

  .empty-state p {
    margin: 0 0 32px 0;
    color: #64748b;
    font-size: 1.2rem;
  }

  /* ===== MODAL STYLES ===== */
    .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.6);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    padding: 20px;
  }
  .modal-container {
    background: white;
    border-radius: 16px;
    width: 100%;
    max-width: 800px;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  }

  @keyframes modalSlideIn {
    from {
      opacity: 0;
      transform: translateY(-30px) scale(0.9);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 28px;
    border-bottom: 2px solid #f1f5f9;
    background: linear-gradient(135deg, #f8fafc, #f1f5f9);
    border-radius: 24px 24px 0 0;
  }

  .modal-header h2 {
    margin: 0;
    color: #1e293b;
    font-size: 1.8rem;
    font-weight: 700;
  }

  .modal-close {
    background: #f1f5f9;
    border: none;
    font-size: 1.4rem;
    color: #64748b;
    cursor: pointer;
    padding: 8px;
    border-radius: 12px;
    transition: all 0.3s ease;
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .modal-close:hover {
    background: #e2e8f0;
    color: #475569;
    transform: rotate(90deg);
  }

  .modal-body {
    padding: 28px;
  }

  .form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 20px;
  }

  .form-group {
    display: flex;
    flex-direction: column;
  }

  .form-group.full-width {
    grid-column: 1 / -1;
  }

  .form-group label {
    margin-bottom: 10px;
    color: #374151;
    font-weight: 600;
    font-size: 1rem;
  }

  .form-group input,
  .form-group select,
  .form-group textarea {
    padding: 14px 16px;
    border: 2px solid #e2e8f0;
    border-radius: 12px;
    font-size: 1rem;
    transition: all 0.3s ease;
    background: white;
  }

  .form-group input:focus,
  .form-group select:focus,
  .form-group textarea:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    transform: translateY(-1px);
  }

  .form-group textarea {
    resize: vertical;
    min-height: 100px;
  }

  .image-preview {
    border: 3px dashed #e2e8f0;
    border-radius: 16px;
    padding: 50px 30px;
    text-align: center;
    color: #94a3b8;
    margin-top: 10px;
    transition: all 0.3s ease;
    background: #f8fafc;
  }

  .image-preview:hover {
    border-color: #667eea;
    color: #667eea;
  }

  .image-preview img {
    max-width: 100%;
    max-height: 200px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  }

  .modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: 16px;
    padding: 28px;
    border-top: 2px solid #f1f5f9;
    background: #f8fafc;
    border-radius: 0 0 24px 24px;
  }

  /* ===== SELECT WITH BUTTON CONTAINER ===== */
  .select-with-btn-container {
    display: flex;
    gap: 12px;
    align-items: flex-end;
  }

  .select-with-btn-container .form-select:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
  }

  .btn-add-room-type {
    background: linear-gradient(135deg, #28a745, #20c997);
    color: white;
    border: none;
    padding: 14px 20px;
    border-radius: 12px;
    cursor: pointer;
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s ease;
    white-space: nowrap;
    height: 52px;
    font-weight: 600;
    box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
    border: 2px solid transparent;
  }

  .btn-add-room-type:hover {
    background: linear-gradient(135deg, #218838, #1ea085);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
  }

  /* ===== PRICE INPUT STYLES ===== */
  .price-input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
  }

  .price-input-wrapper input {
    padding-right: 80px;
    width: 100%;
  }

  .currency-symbol {
    position: absolute;
    right: 16px;
    color: #64748b;
    font-weight: 600;
    font-size: 0.9rem;
    background: #f1f5f9;
    padding: 4px 8px;
    border-radius: 6px;
    border: 1px solid #e2e8f0;
  }

  /* ===== PAGINATION STYLES ===== */
  .pagination-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 32px;
    padding: 20px;
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    border: 1px solid rgba(0, 0, 0, 0.05);
  }

  .pagination-info {
    color: #64748b;
    font-weight: 500;
    font-size: 0.95rem;
  }

  .pagination-info span {
    color: #1e293b;
    font-weight: 600;
  }

  .pagination-controls {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .pagination-btn {
    background: white;
    border: 2px solid #e2e8f0;
    color: #64748b;
    width: 40px;
    height: 40px;
    border-radius: 10px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    font-weight: 600;
  }

  .pagination-btn:hover:not(:disabled) {
    background: #667eea;
    border-color: #667eea;
    color: white;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
  }

  .pagination-btn:disabled {
    background: #f1f5f9;
    border-color: #e2e8f0;
    color: #cbd5e0;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
  }

  .pagination-pages {
    display: flex;
    align-items: center;
    gap: 4px;
  }

  .pagination-page {
    background: white;
    border: 2px solid #e2e8f0;
    color: #64748b;
    min-width: 40px;
    height: 40px;
    border-radius: 10px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    font-weight: 600;
    font-size: 0.9rem;
  }

  .pagination-page:hover:not(.active) {
    background: #f8fafc;
    border-color: #667eea;
    color: #667eea;
    transform: translateY(-1px);
  }

  .pagination-page.active {
    background: linear-gradient(135deg, #667eea, #764ba2);
    border-color: #667eea;
    color: white;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
  }

  .pagination-ellipsis {
    color: #94a3b8;
    padding: 0 8px;
    font-weight: 600;
  }

  /* ===== RESPONSIVE STYLES ===== */
  @media (max-width: 1200px) {
    .main-content {
      margin-left: 280px;
    }
  }

  @media (max-width: 1024px) {
    .main-content {
      margin-left: 80px;
    }

    .rooms-grid {
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    }
  }

  @media (max-width: 768px) {
    .main-content {
      margin-left: 0 !important;
      padding: 16px;
    }

    .admin-dashboard {
      padding: 16px;
    }

    .header-content {
      flex-direction: column;
      align-items: stretch;
      text-align: center;
    }

    .header-title {
      justify-content: center;
      text-align: center;
    }

    .search-filter-bar {
      flex-direction: column;
      align-items: stretch;
      padding: 20px;
    }

    .search-box {
      min-width: auto;
      margin-bottom: 16px;
    }

    .filter-controls {
      flex-direction: column;
      align-items: stretch;
    }

    .filter-select {
      min-width: auto;
    }

    .form-grid {
      grid-template-columns: 1fr;
    }

    .rooms-grid {
      grid-template-columns: 1fr;
      gap: 20px;
    }

    .stats-overview {
      grid-template-columns: 1fr;
      gap: 20px;
    }

    .modal-container {
      margin: 10px;
      max-width: none;
    }

    .product-footer {
      flex-direction: column;
      gap: 12px;
      align-items: stretch;
    }

    .price-tag {
      text-align: center;
    }

    .stock-actions {
      justify-content: center;
    }

    .pagination-container {
      flex-direction: column;
      gap: 16px;
      text-align: center;
    }

    .pagination-pages {
      order: -1;
    }

    .pagination-info {
      order: 1;
    }
  }

  @media (max-width: 480px) {
    .admin-dashboard {
      padding: 12px;
    }

    .dashboard-header {
      padding: 20px;
    }

    .header-actions {
      flex-direction: column;
      width: 100%;
    }

    .btn-primary {
      width: 100%;
      justify-content: center;
    }

    .stat-card {
      padding: 24px;
    }

    .room-content {
      padding: 20px;
    }

    .select-with-btn-container {
      flex-direction: column;
      gap: 12px;
    }

    .btn-add-room-type {
      width: 100%;
      justify-content: center;
    }

    .pagination-pages {
      gap: 2px;
    }

    .pagination-page {
      min-width: 36px;
      height: 36px;
      font-size: 0.85rem;
    }

    .pagination-btn {
      width: 36px;
      height: 36px;
    }
  }
/* Th√™m CSS cho qu·∫£n l√Ω lo·∫°i h√†ng */
  .category-management {
    display: flex;
    flex-direction: column;
    gap: 24px;
  }

  .category-form {
    background: #f8fafc;
    padding: 20px;
    border-radius: 12px;
    border: 2px dashed #e2e8f0;
  }

  .category-form h3 {
    margin: 0 0 16px 0;
    color: #374151;
    font-size: 1.2rem;
  }

  .category-form .form-group {
    display: flex;
    gap: 12px;
    align-items: flex-end;
  }

  .category-form input {
    flex: 1;
    padding: 12px 16px;
    border: 2px solid #e2e8f0;
    border-radius: 8px;
    font-size: 1rem;
  }

  .categories-list h3 {
    margin: 0 0 16px 0;
    color: #374151;
    font-size: 1.2rem;
  }

  .categories-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 12px;
    max-height: 300px;
    overflow-y: auto;
    padding: 8px;
  }

  .category-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 16px;
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 8px;
    transition: all 0.3s ease;
  }

  .category-item:hover {
    border-color: #667eea;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);
  }

  .category-name {
    font-weight: 500;
    color: #374151;
  }

  .category-actions {
    display: flex;
    gap: 8px;
  }

  .category-actions .btn-edit,
  .category-actions .btn-delete {
    width: 32px;
    height: 32px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.9rem;
    transition: all 0.3s ease;
  }

  .category-actions .btn-edit {
    background: #48bb78;
    color: white;
  }

  .category-actions .btn-delete {
    background: #f56565;
    color: white;
  }

  .category-actions .btn-edit:hover {
    background: #38a169;
    transform: scale(1.1);
  }

  .category-actions .btn-delete:hover {
    background: #e53e3e;
    transform: scale(1.1);
  }

  /* CSS c√≤n l·∫°i gi·ªØ nguy√™n */
.swal2-container {
    z-index: 10002 !important;
}

.swal2-popup {
    z-index: 10003 !important;
}

.swal2-backdrop-show {
    z-index: 10001 !important;
}   
</style>